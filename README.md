# ğŸš€ BTC Algorithm Trading System

> **AI ê¸°ë°˜ ë¹„íŠ¸ì½”ì¸ ë¬¼íƒ€ê¸° ì „ëµ ë°±í…ŒìŠ¤íŒ… ì‹œìŠ¤í…œ**  
> Random Forest ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ê³¼ ë™ì  ë ˆë²„ë¦¬ì§€ ê¸°ë°˜ ë¦¬ìŠ¤í¬ ê´€ë¦¬ë¡œ ìµœì í™”ëœ ì•”í˜¸í™”í ê±°ë˜ ì „ëµ

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://python.org)
[![Backtrader](https://img.shields.io/badge/Backtrader-1.9.78.123-green.svg)](https://backtrader.com)
[![Scikit-learn](https://img.shields.io/badge/Scikit--learn-1.0+-orange.svg)](https://scikit-learn.org)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

## ğŸ“‹ ëª©ì°¨

- [í”„ë¡œì íŠ¸ ê°œìš”](#-í”„ë¡œì íŠ¸-ê°œìš”)
- [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#ï¸-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
- [ê¸°ìˆ  ìŠ¤íƒ](#ï¸-ê¸°ìˆ -ìŠ¤íƒ)
- [ì£¼ìš” êµ¬ì„± ìš”ì†Œ](#-ì£¼ìš”-êµ¬ì„±-ìš”ì†Œ)
- [ì„±ê³¼ ì§€í‘œ](#-ì„±ê³¼-ì§€í‘œ)
- [ì‹œì‘í•˜ê¸°](#-ì‹œì‘í•˜ê¸°)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [í•µì‹¬ ê¸°ëŠ¥](#-í•µì‹¬-ê¸°ëŠ¥)
- [ì„±ê³¼ ë¶„ì„](#-ì„±ê³¼-ë¶„ì„)
- [í–¥í›„ ê°œë°œ ê³„íš](#-í–¥í›„-ê°œë°œ-ê³„íš)
- [ì£¼ì˜ì‚¬í•­](#-ì£¼ì˜ì‚¬í•­)
- [ì—°ë½ì²˜](#-ì—°ë½ì²˜)

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

ì´ í”„ë¡œì íŠ¸ëŠ” **ë¨¸ì‹ ëŸ¬ë‹ ê¸°ë°˜ ë¹„íŠ¸ì½”ì¸ ê±°ë˜ ì „ëµ**ì„ êµ¬í˜„í•œ ì¢…í•©ì ì¸ ë°±í…ŒìŠ¤íŒ… ì‹œìŠ¤í…œì…ë‹ˆë‹¤. Random Forest ëª¨ë¸ì„ í™œìš©í•œ ê°€ê²© ì˜ˆì¸¡ê³¼ ë™ì  ë ˆë²„ë¦¬ì§€ ê¸°ë°˜ ë¬¼íƒ€ê¸° ì „ëµì„ í†µí•´ ì•ˆì •ì ì´ê³  ìˆ˜ìµì„± ìˆëŠ” ê±°ë˜ ì‹œìŠ¤í…œì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.

### ğŸ¯ í•µì‹¬ íŠ¹ì§•

- **ğŸ¤– AI ê¸°ë°˜ ì˜ˆì¸¡**: Random Forest ëª¨ë¸ë¡œ 0.4% ìƒìŠ¹ í›„ 1% ìƒìŠ¹ í™•ë¥  ì˜ˆì¸¡
- **ğŸ“Š ê³ ê¸‰ ê¸°ìˆ ì  ì§€í‘œ**: ìŠ¤í€´ì¦ˆ ëª¨ë©˜í…€, ATR, ë³¼ë¦°ì € ë°´ë“œ ë“± 20+ ì§€í‘œ í™œìš©
- **âš¡ ë™ì  ë¦¬ìŠ¤í¬ ê´€ë¦¬**: ë¹„íŠ¸ê²Ÿ/ë°”ì´ë‚¸ìŠ¤ ì‹¤ì œ ì²­ì‚°ê°€ ê³µì‹ ê¸°ë°˜ ë§ˆì§„ì½œ ë°©ì§€
- **ğŸ”„ ë¬¼íƒ€ê¸° ì „ëµ**: ì§„ì… íšŸìˆ˜ë³„ ë™ì  ë ˆë²„ë¦¬ì§€ ì¡°ì •ìœ¼ë¡œ ìµœì í™”ëœ í¬ì§€ì…˜ ê´€ë¦¬
- **ğŸ“ˆ ì¢…í•© ë°±í…ŒìŠ¤íŒ…**: Sharpe Ratio, MDD, VaR ë“± ë¦¬ìŠ¤í¬ ì§€í‘œ ì™„ë¹„

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```mermaid
graph TB
    A[Binance ë°ì´í„° ìˆ˜ì§‘] --> B[ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°]
    B --> C[í”¼ì²˜ ì—”ì§€ë‹ˆì–´ë§]
    C --> D[Random Forest ëª¨ë¸ í›ˆë ¨]
    D --> E[ê°€ê²© ì˜ˆì¸¡]
    E --> F[ë¬¼íƒ€ê¸° ì „ëµ ì‹¤í–‰]
    F --> G[ì§„ì… í‰ê·  ê°€ê²© ê³„ì‚°]
    G --> H[ë™ì  ë ˆë²„ë¦¬ì§€ ê³„ì‚°]
    H --> I[ì²­ì‚°ê°€ ê³„ì‚°]
    I --> J[ì²­ì‚°ê°€ ëª¨ë‹ˆí„°ë§]
    J --> K[ë°±í…ŒìŠ¤íŒ… ê²°ê³¼ ë¶„ì„]
    K --> L[ì„±ê³¼ ë¦¬í¬íŠ¸ ìƒì„±]
```
## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ
- [Python](https://www.python.org/) - íŒŒì´ì¬
- [Backtrader](https://backtrader.com) - ë°±í…ŒìŠ¤íŒ… í”„ë ˆì„ì›Œí¬
- [Scikit-learn](https://scikit-learn.org) - ë¨¸ì‹ ëŸ¬ë‹ ë¼ì´ë¸ŒëŸ¬ë¦¬
- [TA-Lib](https://ta-lib.org) - ê¸°ìˆ ì  ë¶„ì„ ë¼ì´ë¸ŒëŸ¬ë¦¬
- [Binance API](https://binance-docs.github.io/apidocs/) - ì•”í˜¸í™”í ë°ì´í„°
- [Cursor](https://cursor.com/) - ì»¤ì„œ AI


## ğŸ“ ì£¼ìš” êµ¬ì„± ìš”ì†Œ

### 1. **ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸** (`ml_model/`)
- **Random Forest ë¶„ë¥˜ê¸°**: 0.4% ìƒìŠ¹ í›„ 1% ìƒìŠ¹ í™•ë¥  ì˜ˆì¸¡
- **íŠ¹ì„± ì¤‘ìš”ë„ ë¶„ì„**: 20+ ê¸°ìˆ ì  ì§€í‘œ ì¤‘ í•µì‹¬ ì§€í‘œ ì‹ë³„
- **ì„±ëŠ¥ í‰ê°€**: F1-Score, Precision, Recall ê¸°ì¤€ ëª¨ë¸ ê²€ì¦

### 2. **ê¸°ìˆ ì  ì§€í‘œ** (`indicator/`)
- **ìŠ¤í€´ì¦ˆ ëª¨ë©˜í…€**: ë³€ë™ì„± ì••ì¶• êµ¬ê°„ì—ì„œì˜ ëª¨ë©˜í…€ ì¸¡ì •
- **ATR (Average True Range)**: ë™ì  ìŠ¤íƒ‘ë¡œìŠ¤ ì„¤ì •
- **ë³¼ë¦°ì € ë°´ë“œ**: ê³¼ë§¤ìˆ˜/ê³¼ë§¤ë„ êµ¬ê°„ íŒë‹¨
- **ì¹¼ë§Œ í•„í„°**: ë…¸ì´ì¦ˆ ì œê±° ë° íŠ¸ë Œë“œ ì¶”ì¶œ

### 3. **ê±°ë˜ ì „ëµ** (`strategy/`)
- **ë¬¼íƒ€ê¸° ì „ëµ**: í•˜ë½ ì‹œ í¬ì§€ì…˜ ì¶”ê°€ë¡œ í‰ë‹¨ê°€ ê°œì„ 
- **ë™ì  ë ˆë²„ë¦¬ì§€**: ì§„ì… íšŸìˆ˜ì— ë”°ë¥¸ ë¦¬ìŠ¤í¬ ì¡°ì •
- **ì²­ì‚°ê°€ ê³„ì‚°**: ë¹„íŠ¸ê²Ÿ/ë°”ì´ë‚¸ìŠ¤ ì‹¤ì œ ê³µì‹ ì ìš©
- **ë¶€ë¶„ ì²­ì‚°**: ìˆ˜ìµ ì‹¤í˜„ ì‹œ í¬ì§€ì…˜ í¬ê¸° ì¡°ì •

### 4. **ë°±í…ŒìŠ¤íŒ… ì—”ì§„** (`run_backtest.py`)
- **Backtrader ê¸°ë°˜**: ì „ë¬¸ì ì¸ ë°±í…ŒìŠ¤íŒ… í”„ë ˆì„ì›Œí¬
- **ë¦¬ìŠ¤í¬ ë¶„ì„**: VaR, Sharpe Ratio, MDD ë“± ì¢…í•© ë¶„ì„
- **ìˆ˜ìˆ˜ë£Œ ëª¨ë¸ë§**: ì‹¤ì œ ê±°ë˜ì†Œ ìˆ˜ìˆ˜ë£Œ ë° ìŠ¬ë¦¬í”¼ì§€ ë°˜ì˜
- **ê²°ê³¼ ì €ì¥**: CSV í˜•íƒœë¡œ ìƒì„¸í•œ ê±°ë˜ ë¡œê·¸ ë° ì„±ê³¼ ì§€í‘œ ì €ì¥

## ğŸ“Š ì„±ê³¼ ì§€í‘œ

### ë°±í…ŒìŠ¤íŒ… ê²°ê³¼ (2022.09.01 ~ 2025.07.25)

#### ğŸ† í•µì‹¬ ì„±ê³¼ ì§€í‘œ
- **ğŸ’° ìµœê³  ìˆ˜ìµë¥ **: 2,010.4% (8ë°° ë ˆë²„ë¦¬ì§€)
- **ğŸ“ˆ í‰ê·  ìˆ˜ìµë¥ **: 1,508.5%
- **âš¡ í‰ê·  ìƒ¤í”„ ë¹„ìœ¨**: 1.504
- **ğŸ“‰ í‰ê·  ìµœëŒ€ ë‚™í­**: 60.9%
- **ğŸ’¸ í‰ê·  ìˆ˜ìˆ˜ë£Œ ë¹„ìœ¨**: 17.3%

#### ğŸ“Š ë ˆë²„ë¦¬ì§€ë³„ ì„±ê³¼ ë¹„êµ

| ë ˆë²„ë¦¬ì§€ | ìˆ˜ìµë¥  | ìƒ¤í”„ ë¹„ìœ¨ | ìµœëŒ€ ë‚™í­ 
|----------|--------|-----------|-----------|
| 6ë°° | 991.2% | 1.473 | 54.1%    |
| 7ë°° | 1,524.0% | 1.494 | 61.7%  |
| 8ë°° | 2,010.4% | 1.546 | 66.9%  |

#### ğŸ“ˆ ì„±ê³¼ ì‹œê°í™”

<div align="center">
  <img src="performance_charts.png" alt="Performance Charts" width="800"/>
  <p><em>ë°±í…ŒìŠ¤íŒ… ì„±ê³¼ ë¹„êµ ì°¨íŠ¸</em></p>
</div>



### ë¦¬ìŠ¤í¬ ê´€ë¦¬
- **ğŸš¨ ë§ˆì§„ì½œ ë°©ì§€**: ë™ì  ë ˆë²„ë¦¬ì§€ë¡œ ì•ˆì „í•œ í¬ì§€ì…˜ ê´€ë¦¬
- **ğŸ“Š VaR ëª¨ë‹ˆí„°ë§**: í‰ê·  $1,428 VaRë¡œ ì‹¤ì‹œê°„ ìœ„í—˜ë„ ì¸¡ì •
- **ğŸ›¡ï¸ ìŠ¤íƒ‘ë¡œìŠ¤**: ATR ê¸°ë°˜ ë™ì  ì†ì ˆ ì„¤ì •
- **âœ… ë§ˆì§„ì½œ ë°œìƒ**: 0íšŒ (ëª¨ë“  ë°±í…ŒìŠ¤íŠ¸ì—ì„œ ì•ˆì „í•œ ê±°ë˜)

## ğŸš€ ì‹œì‘í•˜ê¸°

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­
```bash
Python 3.8+
pandas >= 1.3.0
numpy >= 1.21.0
scikit-learn >= 1.0.0
backtrader >= 1.9.78.123
ta-lib >= 0.4.24
matplotlib >= 3.5.0
```

### ì„¤ì¹˜ ë° ì‹¤í–‰
```bash
# 1. ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/jkk300000/btc_algorithm_trading.git
cd btc_algorithm_trading

# 2. ë°ì´í„° ì¤€ë¹„ (Binance API ë˜ëŠ” CSV íŒŒì¼)
python btc_martingale_backtest/binance/fetch_binance_data.py

# 3. í”¼ì²˜ ì—”ì§€ë‹ˆì–´ë§
python btc_martingale_backtest/indicator/feature_engineering.py

# 4. ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ í›ˆë ¨
python btc_martingale_backtest/ml_model/rf_1pct_after_0_4pct.py

# 5. ë°±í…ŒìŠ¤íŒ… ì‹¤í–‰
python btc_martingale_backtest/run_backtest.py
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
btc_algorithm_trading/
â”œâ”€â”€ ğŸ“Š btc_martingale_backtest/          # ë©”ì¸ ë°±í…ŒìŠ¤íŒ… ì‹œìŠ¤í…œ
â”‚   â”œâ”€â”€ ğŸ¤– ml_model/                     # ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ rf_1pct_after_0_4pct.py     # Random Forest ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ train_rf_model.py           # ëª¨ë¸ í›ˆë ¨
â”‚   â”‚   â””â”€â”€ metrics.py                  # ì„±ëŠ¥ í‰ê°€
â”‚   â”œâ”€â”€ ğŸ“ˆ indicator/                    # ê¸°ìˆ ì  ì§€í‘œ
â”‚   â”‚   â”œâ”€â”€ feature_engineering.py      # í”¼ì²˜ ì—”ì§€ë‹ˆì–´ë§
â”‚   â”‚   â”œâ”€â”€ squeeze_momentum_core.py    # ìŠ¤í€´ì¦ˆ ëª¨ë©˜í…€
â”‚   â”‚   â””â”€â”€ calc_var.py                 # VaR ê³„ì‚°
â”‚   â”œâ”€â”€ ğŸ¯ strategy/                     # ê±°ë˜ ì „ëµ
â”‚   â”‚   â”œâ”€â”€ strategy_martin.py          # ë¬¼íƒ€ê¸° ì „ëµ
â”‚   â”‚   â”œâ”€â”€ strategy_new.py             # ê°œì„ ëœ ì „ëµ
â”‚   â”‚   â””â”€â”€ strategy_martin_bitget_dynamic.pine  # Pine Script ì „ëµ
â”‚   â”œâ”€â”€ ğŸ¦ binance/                      # ê±°ë˜ì†Œ ì—°ë™
â”‚   â”‚   â”œâ”€â”€ fetch_binance_data.py       # ë°ì´í„° ìˆ˜ì§‘
â”‚   â”‚   â””â”€â”€ binance_calculator.py       # ì²­ì‚°ê°€ ê³„ì‚°
â”‚   â”œâ”€â”€ ğŸ“Š backtest_results/             # ë°±í…ŒìŠ¤íŒ… ê²°ê³¼
â”‚   â””â”€â”€ ğŸ”„ run_backtest.py              # ë©”ì¸ ì‹¤í–‰ íŒŒì¼
â”œâ”€â”€ ğŸ“‹ README.md                         # í”„ë¡œì íŠ¸ ë¬¸ì„œ

```

## ğŸ”§ í•µì‹¬ ê¸°ëŠ¥

### 1. **AI ê¸°ë°˜ ì˜ˆì¸¡ ì‹œìŠ¤í…œ**
```python
# 0.4% ìƒìŠ¹ í›„ 1% ìƒìŠ¹ í™•ë¥  ì˜ˆì¸¡
def train_and_predict_1pct_after_0_4pct(df, horizon=300):
    # Random Forest ëª¨ë¸ í›ˆë ¨
    model = RandomForestClassifier(n_estimators=100, max_depth=10)
    model.fit(X_train, y_train)
    
    # ì˜ˆì¸¡ í™•ë¥  ë°˜í™˜
    rf_pred = model.predict_proba(X_test)[:, 1]
    return rf_pred
```

### 2. **ë™ì  ë ˆë²„ë¦¬ì§€ ê´€ë¦¬**
```python
# ë¹„íŠ¸ê²Ÿ ì²­ì‚°ê°€ ê³„ì‚° ê³µì‹
def calculate_bitget_liquidation_price(avg_price, entry_count, leverage, divided_count):
    effective_leverage = (leverage * entry_count) / divided_count
    if effective_leverage < 1.0:
        return None
    return avg_price * (1 - 1/effective_leverage)
```

### 3. **ë¦¬ìŠ¤í¬ ëª¨ë‹ˆí„°ë§**
```python
# VaR ê¸°ë°˜ ìœ„í—˜ë„ ì¸¡ì •
def calc_var(df, confidence_level=0.05, n_simulations=10000):
    returns = df['close'].pct_change().dropna()
    var_value = np.percentile(returns, confidence_level * 100)
    return var_value
```

## ğŸ“ˆ ì„±ê³¼ ë¶„ì„

### ê±°ë˜ ì •í™•ë„ ë¶„ì„
- **ìƒìŠ¹ ì˜ˆì¸¡ ì •í™•ë„**: 72.3% (Random Forest ëª¨ë¸)
- **í•˜ë½ ì˜ˆì¸¡ ì •í™•ë„**: 68.1% (Random Forest ëª¨ë¸)
- **ì „ì²´ ì˜ˆì¸¡ ì •í™•ë„**: 70.2%

### ë¦¬ìŠ¤í¬ ì§€í‘œ
- **VaR (95% ì‹ ë¢°êµ¬ê°„)**: í‰ê·  $1,428
- **ìµœëŒ€ ì—°ì† ì†ì‹¤**: 0íšŒ (ë§ˆì§„ì½œ ë¯¸ë°œìƒ)
- **í‰ê·  ê±°ë˜ ê¸°ê°„**: 2.3ì¼
- **ìˆ˜ìˆ˜ë£Œ íš¨ìœ¨ì„±**: 17.3% (ìˆ˜ìµ ëŒ€ë¹„)

### ì„±ê³¼ ë“±ê¸‰ ë¶„í¬
- **ğŸ† Excellent (2000%+)**: 33.3% (1ê°œ ë°±í…ŒìŠ¤íŠ¸)
- **ğŸ¥‡ Outstanding (1000-2000%)**: 66.7% (2ê°œ ë°±í…ŒìŠ¤íŠ¸)
- **âœ… ìˆ˜ìµì„±**: 100% (ëª¨ë“  ë°±í…ŒìŠ¤íŠ¸ ìˆ˜ìµ)

## ğŸ¯ í–¥í›„ ê°œë°œ ê³„íš

- [ ] **ë‹¤ì¤‘ ê±°ë˜ì†Œ ì§€ì›**: ë°”ì´ë‚¸ìŠ¤, ë¹„íŠ¸ê²Ÿ, ì—…ë¹„íŠ¸ ë“±
- [ ] **ì‹¤ì‹œê°„ ê±°ë˜**: WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ ë°ì´í„° ì²˜ë¦¬
- [ ] **í¬íŠ¸í´ë¦¬ì˜¤ ìµœì í™”**: ì—¬ëŸ¬ ì•”í˜¸í™”í ë™ì‹œ ê±°ë˜
- [ ] **ë”¥ëŸ¬ë‹ ëª¨ë¸**: LSTM, Transformer ê¸°ë°˜ ì˜ˆì¸¡ ëª¨ë¸
- [ ] **ì›¹ ëŒ€ì‹œë³´ë“œ**: ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ë° ì œì–´ ì¸í„°í˜ì´ìŠ¤

## âš ï¸ ì£¼ì˜ì‚¬í•­

- **íˆ¬ì ìœ„í—˜**: ì•”í˜¸í™”í ê±°ë˜ëŠ” ë†’ì€ ë³€ë™ì„±ê³¼ ì†ì‹¤ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤
- **ë°±í…ŒìŠ¤íŒ… í•œê³„**: ê³¼ê±° ë°ì´í„° ê¸°ë°˜ ê²°ê³¼ëŠ” ë¯¸ë˜ ì„±ê³¼ë¥¼ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤
- **ì‹¤ê±°ë˜ ì „ ê²€ì¦**: ì¶©ë¶„í•œ ê²€ì¦ ì—†ì´ ì‹¤ê±°ë˜ì— ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”
- **ìê¸ˆ ê´€ë¦¬**: íˆ¬ì ê°€ëŠ¥í•œ ì—¬ìœ  ìê¸ˆë§Œ ì‚¬ìš©í•˜ì„¸ìš”



## ğŸ“ ì—°ë½ì²˜

- **í”„ë¡œì íŠ¸ ë§í¬**: [https://github.com/jkk300000/btc_algorithm_trading](https://github.com/jkk300000/btc_algorithm_trading)
- **ì´ë©”ì¼**: s4wlsrud.email@example.com



---










